var At=Object.defineProperty;var Et=(r,t,n)=>t in r?At(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var Fe=(r,t,n)=>Et(r,typeof t!="symbol"?t+"":t,n);import"../chunks/CWj6FrbW.js";import"../chunks/CzuHQAlO.js";import{R as It,aU as Ut,V as Wt,aV as Gt,aW as Nt,o as Dt,K as G,aX as Ft,aY as Pt,aZ as Mt,a_ as Ht,au as Lt,n as Ie,a1 as lt,p as ct,g as be,ac as Ot,a3 as dt,j as c,f as F,d as _,r as m,s as R,i as e,t as we,e as K,b as A,c as ut,a as Pe,aF as vt,a2 as N,a4 as at,a5 as zt,aM as qt,M as rt,a8 as Bt,a6 as Ce,a$ as Zt}from"../chunks/D4HdPs5E.js";import{i as z}from"../chunks/Bw_0fAwL.js";import{k as Ve}from"../chunks/DUx05Ywd.js";import{e as ft,i as mt,c as jt}from"../chunks/B7geMYGs.js";import{s as se}from"../chunks/Ds6VENQq.js";import{w as gt}from"../chunks/C6UYS5fv.js";import{i as Yt}from"../chunks/Dr98OFL6.js";import{p as Qe}from"../chunks/un3tHoYv.js";import{b as Xt}from"../chunks/OJupb_Cg.js";import{l as S,A as Kt,W as ie}from"../chunks/adgz28Bh.js";import{s as D,T as Vt}from"../chunks/CygWUqY9.js";import{s as Jt}from"../chunks/WdiivfIN.js";import{H as Qt}from"../chunks/DcL13wi7.js";import{b as $t,i as ea,T as nt,p as ta,c as Je,C as aa}from"../chunks/BajvWdd3.js";const ra=()=>performance.now(),fe={tick:r=>requestAnimationFrame(r),now:()=>ra(),tasks:new Set};function ht(){const r=fe.now();fe.tasks.forEach(t=>{t.c(r)||(fe.tasks.delete(t),t.f())}),fe.tasks.size!==0&&fe.tick(ht)}function na(r){let t;return fe.tasks.size===0&&fe.tick(ht),{promise:new Promise(n=>{fe.tasks.add(t={c:r,f:n})}),abort(){fe.tasks.delete(t)}}}function qe(r,t){gt(()=>{r.dispatchEvent(new CustomEvent(t))})}function ia(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function it(r){const t={},n=r.split(";");for(const i of n){const[l,x]=i.split(":");if(!l||x===void 0)break;const E=ia(l.trim());t[E]=x.trim()}return t}const sa=r=>r;function st(r,t,n,i){var l=(r&Pt)!==0,x=(r&Mt)!==0,E=l&&x,b=(r&Ft)!==0,d=E?"both":l?"in":"out",P,T=t.inert,oe=t.style.overflow,p,C;function a(){return gt(()=>P??(P=n()(t,(i==null?void 0:i())??{},{direction:d})))}var o={is_global:b,in(){var f;if(t.inert=T,!l){C==null||C.abort(),(f=C==null?void 0:C.reset)==null||f.call(C);return}x||p==null||p.abort(),qe(t,"introstart"),p=$e(t,a(),C,1,()=>{qe(t,"introend"),p==null||p.abort(),p=P=void 0,t.style.overflow=oe})},out(f){if(!x){f==null||f(),P=void 0;return}t.inert=!0,qe(t,"outrostart"),C=$e(t,a(),p,0,()=>{qe(t,"outroend"),f==null||f()})},stop:()=>{p==null||p.abort(),C==null||C.abort()}},w=It;if((w.transitions??(w.transitions=[])).push(o),l&&Ut){var q=b;if(!q){for(var I=w.parent;I&&(I.f&Wt)!==0;)for(;(I=I.parent)&&(I.f&Gt)===0;);q=!I||(I.f&Nt)!==0}q&&Dt(()=>{G(()=>o.in())})}}function $e(r,t,n,i,l){var x=i===1;if(Ht(t)){var E,b=!1;return Lt(()=>{if(!b){var w=t({direction:x?"in":"out"});E=$e(r,w,n,i,l)}}),{abort:()=>{b=!0,E==null||E.abort()},deactivate:()=>E.deactivate(),reset:()=>E.reset(),t:()=>E.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return l(),{abort:Ie,deactivate:Ie,reset:Ie,t:()=>i};const{delay:d=0,css:P,tick:T,easing:oe=sa}=t;var p=[];if(x&&n===void 0&&(T&&T(0,1),P)){var C=it(P(0,1));p.push(C,C)}var a=()=>1-i,o=r.animate(p,{duration:d,fill:"forwards"});return o.onfinish=()=>{o.cancel();var w=(n==null?void 0:n.t())??1-i;n==null||n.abort();var q=i-w,I=t.duration*Math.abs(q),f=[];if(I>0){var U=!1;if(P)for(var de=Math.ceil(I/16.666666666666668),le=0;le<=de;le+=1){var V=w+q*oe(le/de),J=it(P(V,1-V));f.push(J),U||(U=J.overflow==="hidden")}U&&(r.style.overflow="hidden"),a=()=>{var H=o.currentTime;return w+q*oe(H/I)},T&&na(()=>{if(o.playState!=="running")return!1;var H=a();return T(H,1-H),!0})}o=r.animate(f,{duration:I,fill:"forwards"}),o.onfinish=()=>{a=()=>i,T==null||T(i,1-i),l()}},{abort:()=>{o&&(o.cancel(),o.effect=null,o.onfinish=Ie)},deactivate:()=>{l=Ie},reset:()=>{i===0&&(T==null||T(1,0))},t:()=>a()}}const oa=({url:r})=>({deckId:r.searchParams.get("id")||"",isExtraStudy:r.searchParams.get("isExtraStudy")==="true",cardIds:r.searchParams.get("cardIds")||encodeURIComponent("[]")}),$a=Object.freeze(Object.defineProperty({__proto__:null,load:oa},Symbol.toStringTag,{value:"Module"}));class la{constructor(t,n=!0){Fe(this,"audios");Fe(this,"currentIndex",0);Fe(this,"isPlaying",!1);Fe(this,"onEnded",this.handleEnded.bind(this));this.audios=t.map(i=>{const l=new Audio(i);return l.preload="auto",n&&l.load(),l})}handleEnded(){this.audios[this.currentIndex].removeEventListener("ended",this.onEnded),this.currentIndex++,this.currentIndex<this.audios.length?this.playCurrent():(this.isPlaying=!1,this.currentIndex=0)}playCurrent(){const t=this.audios[this.currentIndex];t.addEventListener("ended",this.onEnded),t.currentTime=0,t.play().catch(n=>{console.warn("Playback failed:",n),this.stop()})}play(){this.audios.length!==0&&(this.isPlaying&&this.stop(),this.isPlaying=!0,this.currentIndex=0,this.playCurrent())}stop(){if(!this.isPlaying)return;this.isPlaying=!1;const t=this.audios[this.currentIndex];t.pause(),t.currentTime=0,t.removeEventListener("ended",this.onEnded),this.currentIndex=0}}const ca={[S.Again]:"Fail",[S.Hard]:"Hard",[S.Good]:"Good",[S.Easy]:"Easy"},da={[S.Again]:"again",[S.Hard]:"hard",[S.Good]:"good",[S.Easy]:"easy"},ua={[S.Again]:"fa fa-solid fa-face-frown",[S.Hard]:"fa fa-solid fa-face-meh",[S.Good]:"fa fa-solid fa-face-smile",[S.Easy]:"fa fa-solid fa-star"};var et;(r=>{function t(i){const l=i.correctStrokeCount===0?1/0:i.incorrectStrokeCount/i.correctStrokeCount;return l<.25||i.incorrectStrokeCount<=2?S.Good:l<.75||i.incorrectStrokeCount<=4?S.Hard:S.Again}r.getGrade=t;function n(i){switch(i){case S.Again:return"Again";case S.Hard:return"Hard";case S.Good:return"Good";default:return"Unknown"}}r.gradeToLabel=n})(et||(et={}));var va=(r,t)=>t(),fa=F('<button class="audio-button svelte-4rg8" aria-label="Play Audio"><i class="fa-solid fa-volume-low svelte-4rg8"></i></button>'),ma=F('<div class="new-element-indicator svelte-4rg8">New Card</div>'),ga=F("<div>Warm Up</div>"),ha=F('<div class="new-element-indicator is-hidden svelte-4rg8"></div>'),_a=F('<span class="svelte-4rg8"> </span>'),Ca=F('<span class="empty-character-box svelte-4rg8">&#x3000;</span>'),wa=F('<!> <div class="character-box-container chinese-font svelte-4rg8"></div>',1),pa=(r,t)=>t(),ya=F('<button><i></i> <span class="svelte-4rg8"> </span></button>'),ba=F('<div class="character-writer svelte-4rg8"><div class="meaning svelte-4rg8"> </div> <div><div class="reading svelte-4rg8"> </div> <!></div> <div class="character-container svelte-4rg8"><div class="grid-background svelte-4rg8"><svg xmlns="http://www.w3.org/2000/svg" id="grid-background-target" class="svelte-4rg8"><line x1="0" y1="0" class="svelte-4rg8"></line><line y1="0" x2="0" class="svelte-4rg8"></line><line y1="0" class="svelte-4rg8"></line><line x1="0" class="svelte-4rg8"></line></svg></div> <div class="bottom-container svelte-4rg8"><!></div> <!></div></div>');function ka(r,t){var Ge;ct(t,!0);let n=be(500),i=be(500),l="#DDD";const x=500,E=new Audio(`${Xt}/assets/sounds/correct-choice-43861.mp3`);let b=be(Ot([])),d=be(!1),P=be(!1),T=be(!1);function oe(){return parseFloat(getComputedStyle(document.body).fontSize)}function p(){return parseFloat(getComputedStyle(document.body).fontSize)/parseFloat(getComputedStyle(document.documentElement).fontSize)}function C(){const u=oe()*3*2;c(n,Math.min(document.documentElement.clientWidth-u,500)*p()),c(i,e(n),!0)}let a=Qe(t,"isRequestManualGrade",15),o=Qe(t,"autoReviewData",15),w=be(0),q=(Ge=t.characterData)==null?void 0:Ge.meanings.join("; ");function I(u){for(const v of u)if(v.startsWith(nt))return ta(v.substring(nt.length))}function f(){var u;c(P,!0),!e(T)&&(t.cardConfig.isFirstTime?(c(w,(e(w)+1)%t.characterData.characters.length),window.setTimeout(()=>{de(e(w))},x)):(E.play(),c(w,e(w)+1),e(w)==((u=t.characterData)==null?void 0:u.characters.length)?(t.onComplete({...o()}),c(d,!0),window.setTimeout(()=>{V()},x)):window.setTimeout(()=>{de(e(w))},x)))}let U;function de(u){if(e(T)||!t.characterData)return;U&&(t.cardConfig.isFirstTime||U.cancelQuiz(),U.hideCharacter(),U.hideOutline());const v=I(t.characterData.tags[u]??[]);U=Qt.create("grid-background-target",t.characterData.characters[u],{width:e(n),height:e(i),padding:5,showCharacter:!1,showOutline:t.cardConfig.isShowOutline,highlightOnComplete:!1,strokeColor:t.app.getChineseToneColor(v)??"#555",drawingWidth:$t,drawingColor:"#555",onComplete:()=>{f()}}),t.cardConfig.isFirstTime?(setTimeout(()=>{e(P)||V()},x),setTimeout(()=>{U.animateCharacter({onComplete:()=>{setTimeout(()=>{U.hideOutline(),U.hideCharacter(),f()},x)}})},x)):U.quiz({leniency:t.app.getConfig().strokeLeniency,onMistake:()=>{o(o().incorrectStrokeCount++,!0),o(o().totalStrokeCount++,!0)},onCorrectStroke:()=>{o(o().correctStrokeCount++,!0),o(o().totalStrokeCount++,!0)}})}function le(){var v;const u=(v=t.characterData)==null?void 0:v.audioUrl;u&&c(b,u.map($=>{const ge=$.map(he=>ea(t.cardConfig.lang,he));return new la(ge)}),!0)}function V(){const u=Math.floor(Math.random()*e(b).length),v=e(b)[u];v.stop(),v.play()}function J(){if(t.cardConfig.isWarmUp){window.alert("Can't change grade during warm-up, since grading doesn't affect scheduling in this phase.");return}a(!a())}function H(u=0){const v=t.cardConfig.warmUpCount??0,$=t.cardConfig.warmUpMaxCount;return`${Math.round((v+u)/$*100)}%`}dt(()=>(o({correctStrokeCount:0,incorrectStrokeCount:0,totalStrokeCount:0}),C(),le(),window.addEventListener("resize",C),de(0),()=>{c(T,!0),window.removeEventListener("resize",C)}));var me=ba(),ke=_(me),y=_(ke,!0);m(ke);var Q=R(ke,2);let Me;var j=_(Q),Be=_(j,!0);m(j);var Ze=R(j,2);{var je=u=>{var v=fa();v.__click=[va,V],A(u,v)};z(Ze,u=>{e(b).length>0&&u(je)})}m(Q);var He=R(Q,2),Ue=_(He),xe=_(Ue),pe=_(xe);D(pe,"stroke",l);var Se=R(pe);D(Se,"stroke",l);var ye=R(Se);D(ye,"stroke",l);var Te=R(ye);D(Te,"stroke",l),m(xe),m(Ue);var We=R(Ue,2),Ye=_(We);{var Xe=u=>{var v=wa(),$=Pe(v);{var ge=g=>{var k=ma();A(g,k)},he=(g,k)=>{{var ue=L=>{var ee=ga();let M,h;we((W,X)=>{M=se(ee,1,"new-element-indicator svelte-4rg8",null,M,W),h=Jt(ee,"",h,X)},[()=>({"is-complete":e(d)}),()=>({"--progress":H(),"--next-progress":H(1)})]),A(L,ee)},Y=L=>{var ee=ha();A(L,ee)};z(g,L=>{t.cardConfig.isWarmUp?L(ue):L(Y,!1)},k)}};z($,g=>{t.cardConfig.isFirstTime?g(ge):g(he,!1)})}var s=R($,2);ft(s,21,()=>t.characterData.characters,mt,(g,k,ue)=>{var Y=vt(),L=Pe(Y);{var ee=h=>{var W=_a(),X=_(W,!0);m(W),we(()=>K(X,e(k))),A(h,W)},M=h=>{var W=Ca();A(h,W)};z(L,h=>{ue<e(w)||t.cardConfig.isFirstTime?h(ee):h(M,!1)})}A(g,Y)}),m(s),A(u,v)};z(Ye,u=>{var v;(v=t.characterData)!=null&&v.characters&&u(Xe)})}m(We);var Le=R(We,2);{var Oe=u=>{var v=ya();let $;v.__click=[pa,J];var ge=_(v),he=R(ge,2),s=_(he,!0);m(he),m(v),we(g=>{$=se(v,1,`auto-review-indicator-container ${da[t.autoGrade]}`,"svelte-4rg8",$,g),se(ge,1,jt(ua[t.autoGrade]),"svelte-4rg8"),K(s,ca[t.autoGrade])},[()=>({blinking:a(),animated:a(),"echo-once":!a()})]),A(u,v)};z(Le,u=>{t.autoGrade&&u(Oe)})}m(He),m(me),we(u=>{var v;K(y,q),Me=se(Q,1,"reading-container svelte-4rg8",null,Me,u),K(Be,(v=t.characterData)==null?void 0:v.reading),D(xe,"width",e(n)),D(xe,"height",e(i)),D(pe,"x2",e(n)),D(pe,"y2",e(i)),D(Se,"x1",e(n)),D(Se,"y2",e(i)),D(ye,"x1",e(n)/2),D(ye,"x2",e(n)/2),D(ye,"y2",e(i)),D(Te,"y1",e(i)/2),D(Te,"x2",e(n)),D(Te,"y2",e(i)/2)},[()=>({"is-hidden":!t.app.getConfig().zh.alwaysShowReading&&!e(d)&&!t.cardConfig.isFirstTime})]),A(r,me),ut()}lt(["click"]);const xa=r=>r;function Sa(r){const t=r-1;return t*t*t+1}function ot(r){const t=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[r,"px"]}function Ta(r,{delay:t=0,duration:n=400,easing:i=xa}={}){const l=+getComputedStyle(r).opacity;return{delay:t,duration:n,easing:i,css:x=>`opacity: ${x*l}`}}function Ra(r,{delay:t=0,duration:n=400,easing:i=Sa,x:l=0,y:x=0,opacity:E=0}={}){const b=getComputedStyle(r),d=+b.opacity,P=b.transform==="none"?"":b.transform,T=d*(1-E),[oe,p]=ot(l),[C,a]=ot(x);return{delay:t,duration:n,easing:i,css:(o,w)=>`
			transform: ${P} translate(${(1-o)*oe}${p}, ${(1-o)*C}${a});
			opacity: ${d-T*w}`}}function Aa(r){const t=r-1;return t*t*t+1}var Ea=F('<button><div class="review-button-inner svelte-9hsnmw"><div class="review-time svelte-9hsnmw"> </div> <div class="review-label svelte-9hsnmw"> </div></div></button>'),Ia=F('<div class="bottom-container svelte-9hsnmw"><div></div></div>'),Ua=F(`<div class="svelte-9hsnmw">You have done today's review.</div>`),Wa=F('<div class="counter svelte-9hsnmw"><span class="underlined svelte-9hsnmw"><!></span></div>'),Ga=F('<div class="counter svelte-9hsnmw"><span> </span> <span> </span> <span> </span> <span> </span> <span> </span></div>'),Na=F('<!> <div class="character-writer-container svelte-9hsnmw"><!></div> <!>',1),Da=F('<!> <div class="container svelte-9hsnmw"><!> <!></div>',1);function er(r,t){ct(t,!1);const n=N(),i=N(),l=(s,g=Ie,k)=>{let ue=Ce(()=>Zt(k==null?void 0:k(),""));var Y=Ia(),L=_(Y);ft(L,5,g,mt,(ee,M)=>{var h=Ea();let W;h.__click=function(...Z){var O;(O=e(M).onclick)==null||O.apply(this,Z)};var X=_(h),B=_(X),ce=_(B,!0);m(B);var te=R(B,2),ae=_(te,!0);m(te),m(X),m(h),we(Z=>{W=se(h,1,(e(M),G(()=>`review-button ${e(M).className||""}`)),"svelte-9hsnmw",W,Z),K(ce,(e(M),G(()=>e(M).sublabel||" "))),K(ae,(e(M),G(()=>e(M).label||" ")))},[()=>({"is-complete":e(M).isComplete})],Ce),A(ee,h)}),m(L),m(Y),we(()=>se(L,1,`review-button-container ${e(ue)}`,"svelte-9hsnmw")),st(1,Y,()=>Ra,()=>x),st(2,Y,()=>Ta,()=>E),A(s,Y)},x={delay:100,y:-100,duration:300,easing:Aa},E={duration:200};let b=Qe(t,"data",8),d=b().deckId||"",P=b().cardIds||encodeURIComponent("[]"),T=JSON.parse(decodeURIComponent(P)),oe=b().isExtraStudy?"Extra Study":"Review",p=N(),C=N(!1),a=N(new Kt);dt(async()=>{var k;await e(a).init();const s=(k=e(a).deckData[d])==null?void 0:k.tags;le=s==null?void 0:s.includes(Je.ZH_YUE);const g=s==null?void 0:s.includes(Je.ZH_EXTRA_DICT);await I.init(le?"yue":"zh",g),c(a,e(a)),de=s==null?void 0:s.includes(Je.ZH_TRAD),c(V,e(a).isAutoGrading()),c(C,!0),b().isExtraStudy&&e(a).extraStudyHandler.registerReviewCardIdsOverride(T),j()});let o=N(!1),w=N(!1),q=N(!1),I=new aa,f=N(void 0),U=N(!1),de=!1,le=!1,V=N(!1),J=N(void 0),H=N(!1),me=N(0);const ke=["Fail","Hard","Good","Easy"];let y=N(void 0),Q=N({1:"",2:"",3:"",4:""});function Me(){c(o,!1),c(U,!1),c(J,void 0),c(H,!1)}function j(){Me(),c(q,!0);const s=e(a).getNextCard(d);if(s===void 0){c(w,!0);return}e(a).getCard(d,s,!0)&&(c(q,!1),c(y,s),c(Q,e(a).getRatingScheduledTimeStr(d,s)),c(f,e(a).getWenbunCustomState(d,s)),qt(me))}async function Be(){e(a).startWarmUp(d,e(y)),await e(a).save(),c(U,!0),c(y,e(y)),c(Q,e(a).getRatingScheduledTimeStr(d,e(y))),c(f,e(a).getWenbunCustomState(d,e(y)))}async function Ze(){e(a).skipWarmUp(d,e(y)),c(U,!0),await e(a).save(),j()}function je(s){const g=e(a).getCardWord(d,s),k=e(a).getConfig();return I.getCharacterWriterData(g,{convertToTraditional:de,mandarinReading:k.zh.mandarinReading,isCantonese:le,isPlayAudio:k.zh.playAudio})}function He(s){const g=e(a).getWarmUpCount(d,s),k=e(i)&&g===0;return{isFirstTime:e(n),isWarmUp:e(i)&&!Le(s),warmUpCount:g,warmUpMaxCount:e(a).getMaxWarmUpCount(),isShowOutline:e(n)||k,lang:le?"yue":"zh"}}function Ue(s){c(o,!0),e(V)&&c(J,et.getGrade(s))}async function xe(s){e(a).rateCard(d,e(y),s),await e(a).save(),j()}function pe(s){switch(s){case S.Easy:return"review-button-easy";case S.Good:return"review-button-good";case S.Hard:return"review-button-hard";case S.Again:return"review-button-fail"}}async function Se(){e(a).addIgnoredMark(d,e(y)),await e(a).save(),j()}function ye(){e(a).extraStudyHandler.rateAgain(e(y)),j()}function Te(){e(a).extraStudyHandler.rateGood(e(y)),j()}async function We(){e(a).storeAutoGradeLog(e(p).correctStrokeCount,e(p).incorrectStrokeCount,e(J)),e(a).rateCard(d,e(y),e(J)),await e(a).save(),j()}function Ye(s){c(J,s),c(H,!1)}async function Xe(){e(a).warmUpNext(d,e(y)),await e(a).save(),j()}function Le(s,g){const k=e(a).getWarmUpCount(d,s);return k===void 0?!0:k>=e(a).getMaxWarmUpCount()}at(()=>(e(f),ie),()=>{c(n,e(f)===ie.New)}),at(()=>(e(f),ie),()=>{c(i,e(f)===ie.WarmUp)}),zt(),Yt();var Oe=Da(),Ge=Pe(Oe);Vt(Ge,{get title(){return oe}});var u=R(Ge,2),v=_(u);{var $=s=>{var g=Ua();A(s,g)};z(v,s=>{e(w)&&s($)})}var ge=R(v,2);{var he=s=>{var g=Na(),k=Pe(g);Ve(k,()=>e(me),h=>{var W=vt(),X=Pe(W);{var B=te=>{var ae=Wa(),Z=_(ae),O=_(Z);Ve(O,()=>e(y),Ne=>{var ve=Bt();we(Re=>K(ve,Re),[()=>(e(a),G(()=>e(a).extraStudyHandler.getCardsCount()||""))],Ce),A(Ne,ve)}),m(Z),m(ae),A(te,ae)},ce=te=>{var ae=Ga(),Z=_(ae);let O;var Ne=_(Z,!0);m(Z);var ve=R(Z,2);let Re;var _e=_(ve,!0);m(ve);var Ae=R(ve,2);let ze;var Ke=_(Ae,!0);m(Ae);var re=R(Ae,2);let Ee;var De=_(re,!0);m(re);var ne=R(re,2);let tt;var _t=_(ne,!0);m(ne),m(ae),we((Ct,wt,pt,yt,bt,kt,xt,St,Tt,Rt)=>{O=se(Z,1,"deck-count-learn-relearn svelte-9hsnmw",null,O,Ct),K(Ne,wt),Re=se(ve,1,"deck-count-review svelte-9hsnmw",null,Re,pt),K(_e,yt),ze=se(Ae,1,"deck-count-new svelte-9hsnmw",null,ze,bt),K(Ke,kt),Ee=se(re,1,"deck-count-new svelte-9hsnmw",null,Ee,xt),K(De,St),tt=se(ne,1,"deck-count-previously-studied svelte-9hsnmw",null,tt,Tt),K(_t,Rt)},[()=>({underlined:e(f)===ie.Learning||e(f)===ie.Relearning}),()=>(e(a),G(()=>e(a).getLearningRelearningCardsCount(d)||"")),()=>({underlined:e(f)===ie.ReviewYoung||e(f)===ie.ReviewMature}),()=>(e(a),G(()=>e(a).getScheduledReviewCardsCount(d)||"")),()=>({underlined:e(f)===ie.New}),()=>(e(a),G(()=>e(a).getScheduledNewCardsCount(d)||"")),()=>({underlined:e(f)===ie.WarmUp}),()=>(e(a),G(()=>e(a).getWarmUpCardsCount(d)?`(${e(a).getWarmUpCardsCount(d)})`:"")),()=>({underlined:e(f)===ie.PreviouslyStudied}),()=>(e(a),G(()=>e(a).getScheduledPreviouslyStudiedCardsCount(d)||""))],Ce),A(te,ae)};z(X,te=>{rt(b()),G(()=>b().isExtraStudy)?te(B):te(ce,!1)})}A(h,W)});var ue=R(k,2),Y=_(ue);Ve(Y,()=>[e(y),e(U),e(q)],h=>{const W=Ce(()=>(e(y),G(()=>je(e(y))))),X=Ce(()=>(e(y),G(()=>He(e(y)))));ka(h,{get app(){return e(a)},get characterData(){return e(W)},onComplete:B=>Ue(B),get cardConfig(){return e(X)},get autoGrade(){return e(J)},get isRequestManualGrade(){return e(H)},set isRequestManualGrade(B){c(H,B)},get autoReviewData(){return e(p)},set autoReviewData(B){c(p,B)},$$legacy:!0})}),m(ue);var L=R(ue,2);{var ee=h=>{l(h,()=>[{label:"Ignore",sublabel:"(Don't Learn)",className:"review-button-fail",isComplete:!0,onclick:()=>Se()},{label:"Learn*",sublabel:"(Skip Warm-Up)",className:"review-button-hard",isComplete:!0,onclick:()=>Ze()},{label:""},{label:"Learn",className:"review-button-easy main-button",isComplete:!0,onclick:()=>Be()}])},M=(h,W)=>{{var X=ce=>{l(ce,()=>[{label:""},{label:""},{label:""},{label:"Next",className:"review-button-easy",isComplete:e(o),onclick:()=>Xe()}])},B=(ce,te)=>{{var ae=O=>{l(O,()=>[{label:"Again",sublabel:"(Put Back)",className:"review-button-fail",isComplete:e(o),onclick:()=>ye()},{label:""},{label:""},{label:"Good",className:"review-button-easy",isComplete:e(o),onclick:()=>Te()}])},Z=(O,Ne)=>{{var ve=_e=>{l(_e,()=>[{label:""},{label:""},{label:""},{label:"Next",className:"review-button-easy",isComplete:e(o),onclick:()=>We()}])},Re=(_e,Ae)=>{{var ze=re=>{var Ee=Ce(()=>(e(Q),e(o),G(()=>ke.map((De,ne)=>({label:De,sublabel:e(Q)[ne+1],className:pe(ne+1)+" time",isComplete:e(o),onclick:()=>Ye(ne+1)})))));l(re,()=>e(Ee),()=>"pulsing")},Ke=re=>{var Ee=Ce(()=>(e(Q),e(o),G(()=>ke.map((De,ne)=>({label:De,sublabel:e(Q)[ne+1],className:pe(ne+1)+" time",isComplete:e(o),onclick:()=>xe(ne+1)})))));l(re,()=>e(Ee))};z(_e,re=>{e(V)&&e(H)?re(ze):re(Ke,!1)},Ae)}};z(O,_e=>{e(V)&&!e(H)?_e(ve):_e(Re,!1)},Ne)}};z(ce,O=>{rt(b()),G(()=>b().isExtraStudy)?O(ae):O(Z,!1)},te)}};z(h,ce=>{e(i),e(y),e(me),G(()=>e(i)&&!Le(e(y),e(me)))?ce(X):ce(B,!1)},W)}};z(L,h=>{e(n)?h(ee):h(M,!1)})}A(s,g)};z(ge,s=>{e(C)&&e(y)!==void 0&&!e(w)&&s(he)})}m(u),A(r,Oe),ut()}lt(["click"]);export{er as component,$a as universal};
